<!--
  Generated template for the CategoryPage page.
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar style="height: 50px">
    <ion-title  *ngIf="!isNewCategory">
      Add a New Expense
    </ion-title>

    <ion-title  *ngIf="isNewCategory">
          <ion-buttons>
            <button ion-button (click)="back()">
              <ion-icon  name="arrow-back"></ion-icon>
            </button>   Add a New Category
          </ion-buttons>
    </ion-title>
  </ion-navbar>
  <div *ngIf="!isNewCategory" style="background-color: white">

    <ion-grid >
      <ion-row text-center>
        <ion-col>
          <button ion-button outline  color="danger" class="add-button">Expense
            <!--<ion-icon  name="ios-remove-outline" color="danger"></ion-icon>-->
          </button>
        </ion-col>
        <ion-col>
          <button ion-button outline  color="secondary" class="add-button"(click)="presentNewIncome()">Income
            <!--<ion-icon  name="ios-add-outline" color="secondary"></ion-icon>-->
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
    <p text-center (click)="showCalendar()"><ion-icon name="ios-calendar-outline"></ion-icon> {{ item.entry_time | date: 'EEEE, dd MMM yyyy' }}</p>

  </div>

<div *ngIf="isNewCategory" >
  <ion-col text-center no-padding no-margin *ngIf="isNewCategory"  >
    <div class="col col-25 iconBox">
      <ion-buttons (click)="click(this.newcategory.name)">
        <div class="imgBox">
          <ion-icon name={{this.newcategory.icon}}  class="iconImg"></ion-icon>
        </div>
        <a class="iconTip">{{this.newcategory.name}}</a>
      </ion-buttons>
    </div>
    <ion-list *ngIf="isNewCategory">
      <ion-item no-padding no-margin>
        <ion-label><ion-icon name="ios-create-outline"></ion-icon></ion-label>
        <ion-input type="text" placeholder="Enter category name" [(ngModel)]="newcategory.name" clearInput required (keyup.enter)="handleEnter()"></ion-input>
      </ion-item>
    </ion-list>
  </ion-col>
</div>


</ion-header>




<ion-content padding class="content has-header ionic-pseudo">


  <ion-grid  *ngIf="!isNewCategory" >
    <ion-row >
      <ion-col  no-padding no-margin>
        <ion-item no-padding no-margin>
          <ion-label><ion-icon name="ios-create-outline"></ion-icon></ion-label>
          <ion-input type="number" [(ngModel)]="item.amount" placeholder="$0.00" ng-pattern="/^[0-9]{1,7}(\.[0-9]+)?$/" clearInput (keyup.enter)="handleEnter()"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col  no-padding no-margin>
        <ion-item no-padding no-margin>
          <ion-label><ion-icon name="ios-create-outline"></ion-icon></ion-label>
          <ion-input [(ngModel)]="item.note" placeholder="Add note" clearInput (keyup.enter)="handleEnter()"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col  no-padding no-margin>
        <ion-item no-padding no-margin>
          <ion-label><ion-icon name="ios-create-outline"></ion-icon></ion-label>
          <ion-input [(ngModel)]="item.category" placeholder="choose one category" clearInput (keyup.enter)="this.item.category" readonly></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!--<ion-grid>
    <div class="row row-wrap" >
      <div class="col col-25 iconBox" *ngFor="let item of items; let i = index">
        <button (click)="onChoiceCategory(category)">
          <div class="imgBox">
            <ion-icon [name]="item.icon"  class="iconImg"></ion-icon>
          </div>
          <a class="iconTip">{{item.tip}}</a>
        </button>
      </div>
    </div>
  </ion-grid>
    -->







  <ion-grid *ngIf="!isNewCategory">
    <ion-row wrap text-center>
      <ion-col col-4 *ngFor="let spend of test; let i = index;">
        <div class="col col-25 iconBox">
          <ion-buttons (click)="click(this.spend.CATEGORY)">
            <div class="imgBox">
              <ion-icon class="iconImg" name="{{spend.ICON}}"></ion-icon>
            </div>
            <a class="iconTip">{{spend.CATEGORY}}</a>
          </ion-buttons>
        </div>

      </ion-col>

      <div class="col col-25 iconBox">
        <ion-buttons *ngIf="!isNewCategory">
          <ion-buttons (click)="newCategory()">
            <div class="imgBox">
              <ion-icon name="ios-add-outline" class="iconImg"></ion-icon>
            </div>
            <a class="iconTip">New Category</a>
          </ion-buttons>

        </ion-buttons>
      </div>
    </ion-row>


  </ion-grid>





  <!--<ion-col text-center no-padding no-margin *ngIf="!isNewCategory" >-->
    <!--<div class="col col-25 iconBox">-->
      <!--<button (click)="click(this.newcategory.name)">-->
        <!--<div class="imgBox">-->
          <!--<ion-icon name={{this.icon}}  class="iconImg"></ion-icon>-->
        <!--</div>-->
        <!--<a class="iconTip">{{this.newcategory.name}}</a>-->
      <!--</button>-->
    <!--</div>-->


  <!--</ion-col>-->






  <ion-grid *ngIf="isNewCategory">

    <ion-row wrap >
      <ion-col col-4 *ngFor="let icon of icons; let i = index;" >
        <div class="col col-25 iconBox">
          <ion-buttons (click)="onSelectedIcon(icon)">
            <div class="imgBox">
              <ion-icon  class="iconImg" name="{{icon}}" ></ion-icon>
            </div>
          </ion-buttons>
        </div>
      </ion-col>
    </ion-row>

  </ion-grid>



      <!--<ion-grid *ngIf="isNewCategory">-->
        <!--<ion-row wrap >-->
          <!--<ion-col col-4 *ngFor="let spend of spendTypes; let i = index;" >-->
            <!--<div class="col col-25 iconBox">-->
              <!--<button (click)="onSelectedIcon(this.spend.icon)" >-->
                <!--<div class="imgBox">-->
                  <!--<ion-icon class="iconImg" name="{{spend.icon}}"></ion-icon>-->
                <!--</div>-->
              <!--</button>-->

            <!--</div>-->
          <!--</ion-col>-->
        <!--</ion-row>-->
      <!--</ion-grid>-->

      <!--<ion-col text-center no-padding no-margin  >-->
        <!--<div class="col col-25 iconBox">-->
          <!--<button (click)="click(this.newcategory.name)">-->
            <!--<div class="imgBox">-->
              <!--<ion-icon name={{this.newcategory.icon}}  class="iconImg"></ion-icon>-->
            <!--</div>-->
            <!--<a class="iconTip">{{this.newcategory.name}}</a>-->
          <!--</button>-->
        <!--</div>-->


      <!--</ion-col>-->




</ion-content>
<ion-footer >
  <ion-toolbar>
    <button   *ngIf="isNewCategory"ion-button block outline (click)="addCategory('cost')">Add Category</button>
    <button *ngIf="!isNewCategory" ion-button block color="default" outline (click)="Save('cost')">Save</button>

  </ion-toolbar>

</ion-footer>
